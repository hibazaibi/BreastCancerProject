<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BreastCare AI - Advanced Cancer Detection</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #e91e63;
      --primary-dark: #c2185b;
      --secondary: #f06292;
      --accent: #ff1744;
      --success: #06a77d;
      --neutral-900: #0a0e27;
      --neutral-800: #1a1f3a;
      --neutral-700: #2d3250;
      --neutral-600: #4a5568;
      --neutral-400: #a0aec0;
      --neutral-200: #e2e8f0;
      --neutral-100: #f7fafc;
      --white: #ffffff;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 12px 0 rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 12px 32px 0 rgba(0, 0, 0, 0.15);
      --shadow-xl: 0 20px 48px 0 rgba(0, 0, 0, 0.2);
    }

    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
      background: var(--white);
      color: var(--neutral-900);
      line-height: 1.6;
    }

    /* NAVIGATION */
    nav {
      background: var(--white);
      padding: 1.25rem 0;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: var(--shadow-sm);
    }

    .nav-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 0.75rem;
      text-decoration: none;
    }

    .logo i {
      font-size: 1.75rem;
    }

    .nav-links {
      display: flex;
      gap: 3rem;
      align-items: center;
      list-style: none;
    }

    .nav-links a {
      color: var(--neutral-600);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s ease;
    }

    .nav-links a:hover {
      color: var(--primary);
    }

.theme-toggle {
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--primary);
  font-size: 1.3rem;
  margin-left: 20px;
  transition: 0.3s;
}

.theme-toggle:hover {
  transform: scale(1.2);
  color: var(--primary-dark);
}
  /* Admin Button - Pink background with white text */
.btn-nav {
  background: var(--primary) !important;
  color: var(--white) !important;
  padding: 0.6rem 1.5rem;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-nav:hover {
  background: var(--primary-dark) !important;
  color: var(--white) !important;
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

    /* HERO SECTION */
    .hero {
      background: var(--white);
      display: flex;
      min-height: 100vh;
      align-items: stretch;
    }

    .hero-content {
      flex: 1;
      padding: 6rem 3rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      background: linear-gradient(135deg, var(--white) 0%, #fce4ec 100%);
    }

    .hero h1 {
      font-size: 3.5rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
      line-height: 1.2;
      color: var(--neutral-900);
    }

    .hero h1 .highlight {
      color: var(--primary);
    }

    .hero p {
      font-size: 1.1rem;
      color: var(--neutral-700);
      margin-bottom: 2.5rem;
      line-height: 1.7;
    }

    .hero-buttons {
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    .btn-primary {
      background: var(--primary);
      color: var(--white);
      padding: 1rem 2.5rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 24px rgba(233, 30, 99, 0.3);
      background: var(--primary-dark);
    }

    .btn-secondary {
      background: transparent;
      color: var(--primary);
      padding: 1rem 2.5rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
      border: 2px solid var(--primary);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
    }

    .btn-secondary:hover {
      background: var(--primary);
      color: var(--white);
      transform: translateY(-3px);
    }

/* Hero image section WITH breast.png from Flask static folder */
.hero-image {
  flex: 1;
  background: url('{{ url_for("static", filename="breast.png") }}') center/cover no-repeat;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.hero-image::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  height: 3px;
  background: linear-gradient(to right, transparent, rgba(255,255,255,0.8), white, rgba(255,255,255,0.8), transparent);
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.8), 0 0 25px rgba(233, 30, 99, 0.6);
  animation: scanLine 6s ease-in-out infinite;
  z-index: 10;
}


    @keyframes scanLine {
      0%, 100% {
        top: 0%;
      }
      50% {
        top: 100%;
      }
    }

    .hero-image-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      color: white;
      text-align: center;
      padding: 2rem;
    }

    .hero-image-placeholder svg {
      width: 300px;
      height: 300px;
      margin-bottom: 2rem;
      opacity: 0.95;
      filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.1));
    }

    .hero-image-placeholder p {
      font-size: 1.3rem;
      font-weight: 600;
      max-width: 80%;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .stats {
      display: flex;
      gap: 3rem;
      margin-top: 3rem;
      max-width: 85%;
    }

    .stat {
      flex: 1;
    }

    .stat-number {
      font-size: 2.2rem;
      color: var(--primary);
      font-weight: 800;
      margin-bottom: 0.5rem;
    }

    .stat-label {
      font-size: 0.9rem;
      color: var(--neutral-600);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }

    /* STATS SECTION */
    .stats-section {
      padding: 6rem 2rem;
      background: var(--neutral-100);
    }

    .stats-container {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }

    .stat-card {
      background: var(--white);
      padding: 2rem;
      border-radius: 12px;
      text-align: center;
      box-shadow: var(--shadow-md);
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-lg);
    }

    .stat-icon {
      font-size: 2.5rem;
      color: var(--secondary);
      margin-bottom: 1rem;
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }

    .stat-label-card {
      font-size: 0.95rem;
      color: var(--neutral-600);
      font-weight: 600;
    }

    /* FEATURES SECTION */
    .features-section {
      padding: 6rem 2rem;
      background: var(--white);
    }

    .section-header {
      max-width: 1400px;
      margin: 0 auto 4rem;
      text-align: center;
    }

    .section-tag {
      display: inline-block;
      background: rgba(233, 30, 99, 0.1);
      color: var(--primary);
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 1rem;
    }

    .section-title {
      font-size: 2.75rem;
      font-weight: 800;
      color: var(--neutral-900);
      margin-bottom: 1rem;
    }

    .section-description {
      font-size: 1.1rem;
      color: var(--neutral-600);
      max-width: 600px;
      margin: 0 auto;
    }

    .features-grid {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    .feature-card {
      background: var(--white);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: all 0.4s ease;
      border: 1px solid rgba(233, 30, 99, 0.1);
    }

    .feature-card:hover {
      transform: translateY(-12px);
      box-shadow: var(--shadow-xl);
      border-color: var(--secondary);
    }

    .feature-image {
      width: 100%;
      height: 200px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      color: var(--white);
      position: relative;
    }

    .feature-content {
      padding: 2rem;
    }

    .feature-title {
      font-size: 1.35rem;
      font-weight: 700;
      color: var(--neutral-900);
      margin-bottom: 0.75rem;
    }

    .feature-description {
      color: var(--neutral-600);
      margin-bottom: 1.5rem;
      font-size: 0.95rem;
      line-height: 1.6;
    }

    .feature-list {
      list-style: none;
      margin-bottom: 1.5rem;
    }

    .feature-list li {
      padding: 0.5rem 0;
      color: var(--neutral-700);
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 0.9rem;
    }

    .feature-list li::before {
      content: '✓';
      color: var(--success);
      font-weight: 700;
      font-size: 1.1rem;
    }

    .metric-bar {
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(0, 0, 0, 0.08);
    }

    .metric-label {
      font-size: 0.85rem;
      color: var(--neutral-600);
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .progress-bar {
      width: 100%;
      height: 6px;
      background: var(--neutral-200);
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
      animation: slideIn 0.8s ease-out;
    }

    @keyframes slideIn {
      from {
        width: 0;
      }
      to {
        width: 100%;
      }
    }

    .progress-value {
      font-size: 0.8rem;
      color: var(--primary);
      font-weight: 700;
      margin-top: 0.5rem;
    }

    /* CTA SECTION */
    .cta-section {
      background: linear-gradient(135deg, #e91e63 0%, #f06292 100%);
      color: var(--white);
      padding: 5rem 2rem;
      text-align: center;
    }

    .cta-content {
      max-width: 800px;
      margin: 0 auto;
    }

    .cta-section h2 {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
    }

    .cta-section p {
      font-size: 1.1rem;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 2.5rem;
    }

    /* FOOTER */
    footer {
      background: var(--neutral-900);
      color: var(--neutral-400);
      padding: 3rem 2rem;
    }

    .footer-content {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .footer-section h3 {
      color: var(--white);
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .footer-section ul {
      list-style: none;
    }

    .footer-section ul li {
      margin-bottom: 0.75rem;
    }

    .footer-section a {
      color: var(--neutral-400);
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .footer-section a:hover {
      color: var(--primary);
    }

    .footer-bottom {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: 2rem;
      text-align: center;
    }

    /* RESPONSIVE */
    @media (max-width: 1024px) {
      .hero {
        flex-direction: column;
      }

      .hero-image {
        min-height: 400px;
      }

      .stats {
        flex-wrap: wrap;
        max-width: 100%;
      }
    }

    @media (max-width: 768px) {
      .hero-content {
        padding: 3rem 2rem;
        text-align: center;
        align-items: center;
      }

      .hero h1 {
        font-size: 2.2rem;
      }

      .hero p {
        font-size: 1rem;
      }

      .section-title {
        font-size: 2rem;
      }

      .nav-links {
        display: none;
      }

      .hero-buttons {
        flex-direction: column;
        align-items: center;
      }

      .stat-value {
        font-size: 2rem;
      }

      .hero-image-placeholder svg {
        width: 200px;
        height: 200px;
      }
    }

    @media (max-width: 480px) {
      .hero-content {
        padding: 2rem 1.5rem;
      }

      .hero h1 {
        font-size: 1.75rem;
      }

      .btn-primary,
      .btn-secondary {
        padding: 0.8rem 2rem;
        font-size: 0.9rem;
      }

      .stats {
        gap: 1rem;
      }
    }
    /* CHATBOT STYLES */
.chatbot-btn {
    position: fixed !important;
    bottom: 30px;
    right: 30px;
    background: var(--primary);
    color: white;
    width: 70px;
    height: 70px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    box-shadow: 0 8px 25px rgba(233, 30, 99, 0.3);
    cursor: pointer;
    z-index: 9999;
    transition: all 0.3s ease;
}
.chatbot-btn:hover { transform: scale(1.12); }

.chatbot-container {
    position: fixed;
    bottom: 110px;
    right: 30px;
    width: 380px;
    max-height: 600px;
    background: white;
    border-radius: 24px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.12);
    overflow: hidden;
    z-index: 9999;
    display: none;
    flex-direction: column;
    border: 1px solid #f8d7da;
}

.chat-header {
  background: linear-gradient(135deg, #fdf2f8, #fce4ec);
  color: var(--primary);
  padding: 18px 20px;
  text-align: center;
  font-weight: 600;
}

.chat-body { flex: 1; padding: 18px; overflow-y: auto; background: #fdf2f8; }
.message { margin-bottom: 14px; padding: 12px 16px; border-radius: 18px; max-width: 82%; font-size: 0.95rem; }
.user-message { background: var(--primary); color: white; margin-left: auto; border-bottom-right-radius: 4px; }
.bot-message { background: white; color: #333; border: 1px solid #eee; margin-right: auto; border-bottom-left-radius: 4px; }
.processing { background: #f8d7da; color: #721c24; font-style: italic; font-size: 0.85rem; text-align: center; }

.chat-footer { padding: 16px; background: white; border-top: 1px solid #f8d7da; display: flex; gap: 10px; }
#userInput { flex: 1; border: 1px solid #ddd; border-radius: 50px; padding: 12px 18px; font-size: 0.95rem; outline: none; }
.btn-send, .btn-mic { width: 48px; height: 48px; border-radius: 50%; border: none; color: white; display:flex; align-items:center; justify-content:center; font-size:1.1rem;}
.btn-send { background: var(--primary); }
.btn-mic { background: #28a745; }
.btn-mic.recording { background: #dc3545 !important; animation: pulse 1.5s infinite; }
/* FINAL FIX – ADD THIS AT THE VERY BOTTOM OF YOUR <style> */
body, html {
  overflow-x: visible !important;
  overflow-y: visible !important;
}

.hero, .hero-image, .hero-content {
  overflow: visible !important;
}

/* Guarantee fixed elements are never clipped */
.chatbot-btn,
.chatbot-container {
  z-index: 2147483647 !important;  /* maximum possible z-index */
}
/* FIX CHAT & MIC BUTTON BLOCKING */
.hero-image {
  z-index: 0 !important;
  pointer-events: none !important;
}

.hero-image * {
  pointer-events: auto !important;
}

/* Make sure chatbot buttons can be clicked */
.btn-send,
.btn-mic,
#chatbotToggle {
  pointer-events: auto !important;
  z-index: 2147483647 !important;
}

/* DARK THEME */
.dark-theme {
  --white: #000000;
  --neutral-100: #111111;
  --neutral-200: #222222;
  --neutral-600: #cccccc;
  --neutral-800: #f5f5f5;
  --neutral-900: #ffffff;
  --primary: #e91e63;
  --primary-dark: #ad0054;
  --secondary: #ff5c8d;
  --success: #06a77d;
}

.dark-theme body,
.dark-theme nav,
.dark-theme section,
.dark-theme footer {
  background: var(--white) !important;
  color: var(--neutral-900) !important;
}

.dark-theme .feature-card,
.dark-theme .stat-card {
  background: #111;
  border: 1px solid #333;
}

.dark-theme .btn-primary {
  background: var(--primary-dark) !important;
  color: white !important;
}
/* Subtle dark overlay only when dark theme is active */
.dark-theme .hero-image::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, rgba(0,0,0,0.75), rgba(0,0,0,0.15));
  pointer-events: none;
}
.dark-theme {
  --white: #000000;
  --neutral-100: #111111;
  --neutral-200: #222222;
  --neutral-600: #cccccc;
  --neutral-800: #f5f5f5;
  --neutral-900: #ffffff;
  --primary: #e91e63;
  --primary-dark: #ad0054;
  --secondary: #ff5c8d;
  --success: #06a77d;
}
/* Assessment message styling */
.assessment {
  background: #fff3cd;
  border-left: 5px solid #ffc107;
  padding: 15px;
  margin: 15px 0;
  border-radius: 8px;
  font-size: 0.9rem;
}
.severity-urgent {
  border-left-color: #f44336;
  background: #ffebee;
}
.severity-high {
  border-left-color: #ff9800;
  background: #fff3e0;
}
.severity-moderate {
  border-left-color: #2196f3;
  background: #e3f2fd;
}
.severity-low {
  border-left-color: #4caf50;
  background: #e8f5e8;
}


  </style>
</head>
<body>
  <!-- NAVIGATION -->
  <nav>
    <div class="nav-container">
      <a href="#" class="logo">
        <i class="fas fa-heartbeat"></i>
        <span>BreastCare AI</span>
      </a>
      <ul class="nav-links">
        <li><a href="#features">Features</a></li>
        <li><a href="#results">Results</a></li>
        <li><a href="#contact">Contact</a></li>
            <li>
    <a href="/admin-login" class="btn-nav">
      <i class="fas fa-user-shield"></i> Admin
    </a>
  </li>
          <button id="themeToggle" class="theme-toggle">
  <i class="fas fa-moon"></i>
</button>

      </ul>
    </div>
  </nav>

  <!-- HERO SECTION -->
  <section class="hero">
    <div class="hero-content">
      <h1>Early Detection <span class="highlight">Saves Lives</span></h1>
<p>An AI-assisted breast cancer support tool designed to help users understand their imaging results more easily. This platform provides fast, research-driven insights to support early awareness and improve accessibility to screening tools.</p>

      <div class="hero-buttons">
       <a href="/form">
  <button class="btn-primary">
    <i class="fas fa-heartbeat"></i> Start Diagnosis
  </button>
</a>
        <button class="btn-secondary">
          <i class="fas fa-play-circle"></i> Learn More
        </button>
      </div>

      <div class="stats">
        <div class="stat">
          <div class="stat-number">98%</div>
          <div class="stat-label">Accuracy</div>
        </div>
        <div class="stat">
          <div class="stat-number">50K+</div>
          <div class="stat-label">Lives Screened</div>
        </div>
        <div class="stat">
          <div class="stat-number">24/7</div>
          <div class="stat-label">Support</div>
        </div>
      </div>
    </div>

 <div class="hero-image">
  <div class="hero-image-placeholder">
  </div>
</div>
  </section>

  <!-- STATS SECTION -->
  <section class="stats-section" id="results">
    <div class="stats-container">
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-microscope"></i></div>
        <div class="stat-value">98.7%</div>
        <div class="stat-label-card">Detection Accuracy</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-clock"></i></div>
        <div class="stat-value">&lt;60s</div>
        <div class="stat-label-card">Analysis Time</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-award"></i></div>
        <div class="stat-value">99.2%</div>
        <div class="stat-label-card">AI Specificity</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-hospital-user"></i></div>
        <div class="stat-value">10K+</div>
        <div class="stat-label-card">Healthcare Facilities</div>
      </div>
    </div>
  </section>

  <!-- FEATURES SECTION -->
  <section class="features-section" id="features">
  <div class="section-header">
    <span class="section-tag">Key Features</span>
    <h2 class="section-title">Smart Breast Cancer Assistance</h2>
    <p class="section-description">AI tools dedicated to early detection, diagnosis support, and treatment guidance.</p>
  </div>

  <div class="features-grid">

    <!-- ULTRASOUND DETECTION -->
    <div class="feature-card">
      <div class="feature-image">
        <i class="fas fa-wave-square"></i>
      </div>
      <div class="feature-content">
        <h3 class="feature-title">Ultrasound Detection</h3>
        <p class="feature-description">AI-assisted ultrasound analysis for real-time tumor identification.</p>
        <ul class="feature-list">
          <li>Mass detection & segmentation</li>
          <li>Shape & boundary estimation</li>
          <li>Lesion measurements</li>
        </ul>
        <div class="metric-bar">
          <div class="metric-label">Efficiency</div>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 98%;"></div>
          </div>
          <div class="progress-value">98%</div>
        </div>
      </div>
    </div>

    <!-- MAMMOGRAM DETECTION -->
    <div class="feature-card">
      <div class="feature-image">
        <i class="fas fa-chest-medical"></i>
      </div>
      <div class="feature-content">
        <h3 class="feature-title">Mammogram Analysis</h3>
        <p class="feature-description">Deep learning for mammogram interpretation with microcalcification detection.</p>
        <ul class="feature-list">
          <li>Microcalcification recognition</li>
          <li>Mass & density analysis</li>
          <li>BI-RADS scoring assistance</li>
        </ul>
        <div class="metric-bar">
          <div class="metric-label">Accuracy</div>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 97%;"></div>
          </div>
          <div class="progress-value">97%</div>
        </div>
      </div>
    </div>

    <!-- TREATMENT RECOMMENDATION -->
    <div class="feature-card">
      <div class="feature-image">
        <i class="fas fa-prescription"></i>
      </div>
      <div class="feature-content">
        <h3 class="feature-title">Treatment Recommendations</h3>
        <p class="feature-description">Personalized treatment guidance aligned with clinical best practices.</p>
        <ul class="feature-list">
          <li>Stage-based options</li>
          <li>Chemo, radiation & surgery suggestions</li>
          <li>Follow-up schedule support</li>
        </ul>
        <div class="metric-bar">
          <div class="metric-label">Completeness</div>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 100%;"></div>
          </div>
          <div class="progress-value">100%</div>
        </div>
      </div>
    </div>

    <!-- SYMPTOM CHECKER CHATBOT -->
    <div class="feature-card">
      <div class="feature-image">
        <i class="fas fa-brain"></i>
      </div>
      <div class="feature-content">
        <h3 class="feature-title">Symptom Checker</h3>
        <p class="feature-description">AI-powered chatbot for symptom assessment and healthcare guidance.</p>
        <ul class="feature-list">
          <li>Voice & text support</li>
          <li>Early symptom analysis</li>
          <li>Actionable medical advice</li>
        </ul>
        <div class="metric-bar">
          <div class="metric-label">User Support</div>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 95%;"></div>
          </div>
          <div class="progress-value">24/7</div>
        </div>
      </div>
    </div>

  </div>
</section>

  <!-- CTA SECTION -->
  <section class="cta-section" id="contact">
    <div class="cta-content">
      <h2>Ready to Transform Cancer Detection?</h2>
      <p>Join healthcare facilities worldwide using AI-powered diagnostics for better patient outcomes.</p>
      <a href="#" class="btn-primary">
        <i class="fas fa-arrow-right"></i> Get Started Today
      </a>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Product</h3>
        <ul>
          <li><a href="#">Features</a></li>
          <li><a href="#">Pricing</a></li>
          <li><a href="#">Security</a></li>
          <li><a href="#">Documentation</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Company</h3>
        <ul>
          <li><a href="#">About</a></li>
          <li><a href="#">Blog</a></li>
          <li><a href="#">Careers</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Resources</h3>
        <ul>
          <li><a href="#">Research</a></li>
          <li><a href="#">Case Studies</a></li>
          <li><a href="#">Webinars</a></li>
          <li><a href="#">Support</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Legal</h3>
        <ul>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms of Service</a></li>
          <li><a href="#">Cookie Policy</a></li>
          <li><a href="#">Compliance</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 BreastCare AI. All rights reserved.</p>
    </div>
  </footer>
<!-- CHATBOT BUTTON & CONTAINER -->
<div class="chatbot-btn" id="chatbotToggle">
  <i class="fas fa-comment-medical"></i>
</div>

<div class="chatbot-container" id="chatbotContainer">
  <div class="chat-header">
    <h3><i class="fas fa-stethoscope"></i> Symptom Checker</h3>
  </div>
  <div class="chat-body" id="chatBody">
    <div class="bot-message">
      <p>Hello! I'm here to listen. Please describe your symptoms or concerns (text or voice).</p>
      <p style="font-size:0.8rem; color:#666; margin-top:10px;">
        <em>I am not a doctor. Always consult a healthcare professional.</em>
      </p>
    </div>
  </div>
  <div class="chat-footer">
    <input type="text" id="userInput" placeholder="Type here...">
    <button type="button" class="btn btn-send" id="sendBtn"><i class="fas fa-paper-plane"></i></button>
    <button type="button" class="btn btn-mic" id="micBtn">
<i class="fas fa-microphone"></i></button>
  </div>
</div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- SCRIPTS -->

<script>
/* =========================
   CHATBOT FUNCTIONALITY
   ========================= */

// Elements
const chatbotToggle = document.getElementById('chatbotToggle');
const chatbotContainer = document.getElementById('chatbotContainer');
const chatBody = document.getElementById('chatBody');
const userInput = document.getElementById('userInput');
const sendBtn = document.getElementById('sendBtn');
const micBtn = document.getElementById('micBtn');

// ⚠️ Change only if your backend uses a different port
const API_BASE = 'http://127.0.0.1:5000';

let mediaRecorder, audioChunks = [], isRecording = false;

/* -------------------------
   Toggle chatbot open/close
--------------------------*/
chatbotToggle.addEventListener('click', () => {
  const isOpen = (chatbotContainer.style.display === 'flex');
  chatbotContainer.style.display = isOpen ? 'none' : 'flex';

  if (!isOpen) {
    chatbotContainer.style.opacity = '0';
    chatbotContainer.style.transform = 'translateY(10px)';
    setTimeout(() => {
      chatbotContainer.style.transition = 'all 0.3s ease';
      chatbotContainer.style.opacity = '1';
      chatbotContainer.style.transform = 'translateY(0)';
    }, 10);
  }
});

/* -------------------------
   Add message to chat
--------------------------*/
function addMessage(text, sender, isProcessing = false) {
  const div = document.createElement('div');
  div.className = `message ${sender}-message ${isProcessing ? 'processing' : ''}`;
  div.innerHTML = `<p>${text}</p>`;
  chatBody.appendChild(div);
  chatBody.scrollTop = chatBody.scrollHeight;
}
/* -------------------------
   Display assessment with severity styling
--------------------------*/
function displayAssessment(assessment) {
  if (!assessment) return;

  const sev = assessment.severity.toLowerCase();
  const ass = document.createElement('div');
  ass.className = `message bot-message assessment severity-${sev}`;

  const symptomsText = assessment.symptoms && assessment.symptoms.length > 0
    ? assessment.symptoms.join(', ')
    : 'No clear symptoms identified';

  ass.innerHTML = `
    <strong>Assessment:</strong><br>
    <strong>${assessment.severity}</strong> – ${symptomsText}<br>
    <ul style="margin:8px 0; padding-left:20px;">
      ${assessment.recommendations.map(r => `<li>${r}</li>`).join('')}
    </ul>
    <em>Confidence: ${(assessment.confidence * 100).toFixed(0)}%</em>
  `;
  chatBody.appendChild(ass);
  chatBody.scrollTop = chatBody.scrollHeight;
}
/* -------------------------
   Send text message - FIXED VERSION
--------------------------*/
async function sendMessage(text) {
  if (!text.trim()) return;

  // Add user message (NO "You said" for text)
  addMessage(text, 'user');
  addMessage('Analyzing your message...', 'bot', true);

  try {
    const res = await fetch(`${API_BASE}/api/text/chat`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ message: text })
    });

    const data = await res.json();

    // Remove processing message
    const thinking = chatBody.querySelector('.processing');
    if (thinking) thinking.remove();

    if (data.response) {
      addMessage(data.response, 'bot');

      // Display assessment if available
      if (data.assessment) {
        displayAssessment(data.assessment);
      }
    } else {
      addMessage('Sorry, I didn\'t understand. Can you rephrase?', 'bot');
    }
  } catch (e) {
    document.querySelector('.processing')?.remove();
    addMessage('⚠️ Cannot reach server. Make sure backend is running.', 'bot');
  }
}

/* -------------------------
   Send voice audio - FIXED VERSION
--------------------------*/
async function sendVoice(blob) {
  const reader = new FileReader();
  reader.onloadend = async () => {
    const base64 = reader.result;

    // For voice: Show "You said" with transcription
    addMessage('<i class="fas fa-microphone"></i> Recording sent...', 'user');
    addMessage('Transcribing...', 'bot', true);

    try {
      const res = await fetch(`${API_BASE}/api/voice/chat`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ audio: base64 })
      });

      const data = await res.json();
      document.querySelector('.processing')?.remove();

      if (data.success) {
        // Show transcription for voice input
        addMessage(`<strong>You said:</strong> <em>${data.transcription}</em>`, 'user');
        addMessage(data.response, 'bot');

        // Display assessment if available
        if (data.assessment) {
          displayAssessment(data.assessment);
        }
      } else {
        addMessage('❓ Could not interpret voice. Try again!', 'bot');
      }
    } catch (e) {
      document.querySelector('.processing')?.remove();
      addMessage('Audio error. Please try again.', 'bot');
    }
  };
  reader.readAsDataURL(blob);
}

/* -------------------------
   Button & Key Events
--------------------------*/
sendBtn.addEventListener('click', () => {
  const text = userInput.value.trim();
  if (text) {
    sendMessage(text);
    userInput.value = '';
  }
});

userInput.addEventListener('keypress', e => {
  if (e.key === 'Enter') sendBtn.click();
});

/* -------------------------
   Microphone recording
--------------------------*/
micBtn.addEventListener('click', async () => {
  if (!isRecording) {
    try {
      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
      mediaRecorder = new MediaRecorder(stream);
      audioChunks = [];

      mediaRecorder.ondataavailable = e => audioChunks.push(e.data);
      mediaRecorder.onstop = () => {
        const blob = new Blob(audioChunks, { type: 'audio/webm' });
        sendVoice(blob);
        stream.getTracks().forEach(t => t.stop());
      };

      mediaRecorder.start();
      isRecording = true;
      micBtn.classList.add('recording');
      micBtn.innerHTML = '<i class="fas fa-stop"></i>';
    } catch (e) {
      alert('Microphone access denied.');
    }
  } else {
    mediaRecorder.stop();
    isRecording = false;
    micBtn.classList.remove('recording');
    micBtn.innerHTML = '<i class="fas fa-microphone"></i>';
  }
});
const themeBtn = document.getElementById("themeToggle");

themeBtn.addEventListener("click", () => {
  document.body.classList.toggle("dark-theme");

  const isDark = document.body.classList.contains("dark-theme");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  themeBtn.innerHTML = isDark
    ? `<i class="fas fa-sun"></i>`
    : `<i class="fas fa-moon"></i>`;
});

</script>

</body>
</html>
